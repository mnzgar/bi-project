-- Crear tabla para los datos en crudo
CREATE TABLE importacion_2019(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

CREATE TABLE importacion_2020(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

CREATE TABLE importacion_2021(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

CREATE TABLE importacion_2022(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

CREATE TABLE importacion_2023(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

CREATE TABLE importacion_2024(
    flujo VARCHAR(1),
    ano VARCHAR(2),
    mes VARCHAR(2),
    provincia_aduana_recinto VARCHAR(2),
    fecha_admision_documento DATE,
    posicion_estadistica VARCHAR(12),
    tipo_declaracion VARCHAR(1),
    codigos_adicionales VARCHAR(8),
    pais_origen_destino VARCHAR(3),
    pais_procedencia_expedicion VARCHAR(3),
    provincia_origen_destino VARCHAR(2),
    regimen_aduanero_solicitado VARCHAR(2),
    regimen_aduanero_precedente VARCHAR(2),
    peso VARCHAR(15),
    unidades VARCHAR(15),
    valor_estadistico VARCHAR(12),
    valor_factura VARCHAR(12),
    pais_divisa VARCHAR(3),
    contenedor VARCHAR(1),
    regimen_transporte VARCHAR(5),
    modo_transporte_frontera VARCHAR(1),
    modo_transporte_interior VARCHAR(1),
    nacionalidad_medio_transporte VARCHAR(3),
    zona_intercambio VARCHAR(1),
    naturaleza_transaccion VARCHAR(2),
    condiciones_entrega VARCHAR(3),
    contingente VARCHAR(6),
    preferencia_arancelaria VARCHAR(6),
    flete VARCHAR(12),
    provincia_domicilio_fiscal VARCHAR(2)
);

-- Crear tabla para los modos de transporte
CREATE TABLE modo_transporte(
    codigo INT PRIMARY KEY,
    descripcion TEXT NOT NULL
);

COPY modo_transporte
FROM '/docker-entrypoint-initdb.d/codes/modo_transporte.csv'
DELIMITER ','
CSV HEADER;

-- Crear tabla para los pa√≠ses
CREATE TABLE pais(
    codigo CHAR(2) PRIMARY KEY,
    pais TEXT NOT NULL
);

COPY pais
FROM '/docker-entrypoint-initdb.d/codes/pais.csv'
DELIMITER ','
CSV HEADER;

-- Crear tabla para provincia
CREATE TABLE provincia(
    codigo CHAR(2) PRIMARY KEY,
    provincia TEXT NOT NULL
);

COPY provincia
FROM '/docker-entrypoint-initdb.d/codes/provincia.csv'
DELIMITER ','
CSV HEADER;

-- Crear tabla para producto
CREATE TABLE producto(
    nm_code VARCHAR(10) PRIMARY KEY,
    ncomb TEXT,
    cuci_code VARCHAR(10),
    cuci TEXT,
    sector TEXT
);

COPY producto
FROM '/docker-entrypoint-initdb.d/codes/producto.csv'
DELIMITER ','
CSV HEADER;
